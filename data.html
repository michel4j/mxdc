<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Data &mdash; MxDC 2022.10.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/styles.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Scans" href="scans.html" />
    <link rel="prev" title="Samples" href="samples.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> MxDC
          </a>
              <div class="version">
                2022.10.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">For MX Users</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="starting.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="samples.html">Samples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#interactive-data-acquisition">Interactive Data Acquisition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#automated-data-acquisition">Automated Data Acquisition</a></li>
<li class="toctree-l2"><a class="reference internal" href="#rastering-data-acquitision">Rastering Data Acquitision</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-set-parameters">Data Set Parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="#diffraction-image-viewer">Diffraction Image Viewer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="scans.html">Scans</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="chat.html">Chat and Log</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Beamline Staff</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#configuration">Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html#available-commands">Available Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="hutch.html">Hutch Viewer</a></li>
<li class="toctree-l1"><a class="reference internal" href="console.html">Beamline Console</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For Developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/purpose.html">Purpose</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/objects.html">Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/devices.html">Devices</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/engines.html">Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/services.html">Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="api/beamlines.html">Beamlines</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MxDC</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Data</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="data">
<h1>Data<a class="headerlink" href="#data" title="Permalink to this heading"></a></h1>
<p>The Data View is the primary view used for interactive, automated and rastering diffraction data acquisition.</p>
<figure class="align-center">
<a class="reference internal image-reference" href="_images/data.svg"><img alt="MxDC Data View" src="_images/data.svg" width="100%" /></a>
</figure>
<p>The view is divided horizontally into two regions – the Diffraction Image Viewer and the Data acquisition area, which
can be toggled between the <em>Interactive</em> , <em>Automated</em> or <em>Rastering</em> data acquisition tools.</p>
<section id="interactive-data-acquisition">
<h2>Interactive Data Acquisition<a class="headerlink" href="#interactive-data-acquisition" title="Permalink to this heading"></a></h2>
<p>The interactive data acquisition tool enables acquisition of one or more data sets using a variety of settings and
strategies on a single sample.</p>
<img alt="_images/interactive-data.png" class="align-center" src="_images/interactive-data.png" />
<p>The interactive data acquisition tool combines a dataset run list with a dataset run editor. To create a new dataset run, click
on the <em>Add run …</em> row of the dataset list. A new run will be created and the editor will point to it. Alternatively,
while the editor is pointing to the <em>Add run …</em> row, a new run can be created by updating the parameters and clicking
the <em>Save</em> button of the dataset editor.</p>
<p>To copy the parameters from an existing run, select the run from the list by clicking on it, and then click the copy icon
at the top of the run editor. To delete the run, click the Trash icon at the top of the run editor.</p>
<p>Once runs have been defined, click the start button to initiate acquisition of all defined runs. The run-icon will be
updated to indicate the state of the run – either acquiring, complete or pending. Completed runs can be removed from
the list by clicking the clear button at the top of the page.</p>
<p>Completed runs will be ignored when the start button is clicked. To re-collect a completed run, select it and click
save button to reset its state to pending.</p>
<p>You will be prompted each time, if images exist that may be overwritten.</p>
<img alt="_images/data-existing.png" class="align-center" src="_images/data-existing.png" />
<p>This may result if an acquisition operation was stopped or if a run is being re-collected. If continuing a stopped run,
choose the <em>Resume</em> option to resume data acquisition from where it stopped previously, and you want to preserve existing
data. Choose the <em>Start Over</em> option, if you want to overwrite the existing frames and start data acquisition afresh.</p>
<p>Click the stop button while acquisition is in progress to stop it.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Stopping data acquisition is exactly the same as Pausing it, thus there is no pause command. You can perform
pause-resume cycles by stopping and then starting data acquisition, and selecting the <em>Resume</em> option when
prompted.</p>
<p>Data Acquisition pauses automatically if the beam is lost, and resumes again automatically once the beam is
available.</p>
</div>
</section>
<section id="automated-data-acquisition">
<h2>Automated Data Acquisition<a class="headerlink" href="#automated-data-acquisition" title="Permalink to this heading"></a></h2>
<p>The automated data acquisition tool enables acquisition of datasets using the same set of parameters and strategy on
multiple samples in an automated manner.</p>
<img alt="_images/automated-data.png" class="align-center" src="_images/automated-data.png" />
<p>The automated data acquisition tool combines a task sequence with a sample queue. To perform automated acquisition,
configure the sequence of tasks to perform, update the associated parameters, select the samples for the queue,
and then click the start button to start automation.</p>
<p>Samples can be selected by group, using the [ + ] button above the sample queue.
Alternatively, individual samples can be selected using the Sample List tool on the Samples page.</p>
<p>The first column of the sample queue displays an icon corresponding to the state of the sample, either pending, in
progress, or complete. Samples marked as completed, will be ignored each time the start button is clicked. They can be
removed from the list by clicking the clear button above the sample queue. To recollect on a previously collected sample,
make sure to re-select it, as collected samples are automatically deselected when complete.</p>
<p>Automation can be paused, resumed or stopped using the control buttons below the sample queue.</p>
</section>
<section id="rastering-data-acquitision">
<h2>Rastering Data Acquitision<a class="headerlink" href="#rastering-data-acquitision" title="Permalink to this heading"></a></h2>
<p>The Rastering tool allow users to perform diffraction cartography on mounted samples, in order to identify locations
where the best diffraction can be obtained. The rastering tool is integrated with the video microscope allowing
rastering parameters to be determined simply by drawing a grid on the sample video.  Alternatively, rastering
parameters can be directly provided using the rastering form fields.</p>
<img alt="Rastering Tool" class="align-center" src="_images/rastering.png" />
<p>To perform a run, update the parameters like exposure time and resolution settings, and then click the start button.
Results for each point of the raster scan are then displayed on the table, and are also overlaid on the sample miscroscope.</p>
<img alt="Rastering Tool" class="align-center" src="_images/rastering-scores.png" />
</section>
<section id="data-set-parameters">
<h2>Data Set Parameters<a class="headerlink" href="#data-set-parameters" title="Permalink to this heading"></a></h2>
<img alt="_images/data-parameters.png" class="align-center" src="_images/data-parameters.png" />
<p>Data set parameters can be configured using the dataset form for interactive data acquisition or through the
<em>Acquire frames</em> configuration tool for automated data acquisition. Note that some parameters may not be available
depending on the data acquisition mode.</p>
<p>The set of available parameters are described below:</p>
<dl class="glossary">
<dt id="term-Strategy">Strategy<a class="headerlink" href="#term-Strategy" title="Permalink to this term"></a></dt><dd><p>The strategy is a drop down list used to select default parameters for specific types of experiments. It also
determines whether/how acquired frames will be analysed. Available strategies
strategies are:</p>
<dl class="glossary simple">
<dt id="term-Single-Frame">Single Frame<a class="headerlink" href="#term-Single-Frame" title="Permalink to this term"></a></dt><dd><p>Acquire a single frame</p>
</dd>
<dt id="term-Full-Dataset">Full Dataset<a class="headerlink" href="#term-Full-Dataset" title="Permalink to this term"></a></dt><dd><p>Acquire a full dataset</p>
</dd>
<dt id="term-Screen-...">Screen …<a class="headerlink" href="#term-Screen-..." title="Permalink to this term"></a></dt><dd><p>Acquire a partial dataset for screening. Alternatives include frames at 0 and 90 degrees, frames at
0, 45, and 90 degrees, or frames at 0, 45, 90 and 180 degrees.</p>
</dd>
<dt id="term-Powder">Powder<a class="headerlink" href="#term-Powder" title="Permalink to this term"></a></dt><dd><p>Acquire a powder diffraction dataset.</p>
</dd>
</dl>
</dd>
<dt id="term-Directory-Template">Directory Template<a class="headerlink" href="#term-Directory-Template" title="Permalink to this term"></a></dt><dd><p>This is actually a global preference which is also available through the MxDC preferences dialog. The value
of this parameter determines how directories will be created to organize all acquired data in MxDC. It is
highly recommended to use the default value.</p>
</dd>
<dt id="term-Name">Name<a class="headerlink" href="#term-Name" title="Permalink to this term"></a></dt><dd><p>The name of the dataset, which will be used to create file names by appending the frame number and the file
extension. This field should be unique when collecting multiple runs at once.</p>
</dd>
<dt id="term-Resolution">Resolution<a class="headerlink" href="#term-Resolution" title="Permalink to this term"></a></dt><dd><p>The maximum diffraction resolution expected. This value determines the detector distance. In previous versions
of MxDC, users were expected to provide the detector distance. Now the detector distance is calculated from the
requested resolution, taking into consideration the energy and detector size.</p>
</dd>
<dt id="term-Angle-Frame-aka-Delta">Angle/Frame (aka Delta)<a class="headerlink" href="#term-Angle-Frame-aka-Delta" title="Permalink to this term"></a></dt><dd><p>The angle range for acquiring a single frame</p>
</dd>
<dt id="term-Exposure-Frame">Exposure/Frame<a class="headerlink" href="#term-Exposure-Frame" title="Permalink to this term"></a></dt><dd><p>The exposure time per frame. The exposure is linked to the Angle/Frame such that, the value will be adjusted
automatically whenever the delta angle is changed, to preserve a constant exposure-rate.</p>
</dd>
<dt id="term-Attenuation">Attenuation<a class="headerlink" href="#term-Attenuation" title="Permalink to this term"></a></dt><dd><p>The percentage of beam intensity to attenuate</p>
</dd>
<dt id="term-Start-Angle">Start Angle<a class="headerlink" href="#term-Start-Angle" title="Permalink to this term"></a></dt><dd><p>The angular starting position for data acquisition</p>
</dd>
<dt id="term-Total-Angle">Total Angle<a class="headerlink" href="#term-Total-Angle" title="Permalink to this term"></a></dt><dd><p>The total angle range to acquire. For screening datasets, the total angle determines the number of frames
acquired for each contiguous slice within the screen.</p>
</dd>
<dt id="term-Wedge">Wedge<a class="headerlink" href="#term-Wedge" title="Permalink to this term"></a></dt><dd><p>The wedge angle determines how much of a given run will be collected before proceeding to the next run when
performing interleaved data collection strategies inverse beam or interleaved-MAD data acquisition. The
default value of 360 degrees should be used otherwise. For example, to interleave 3 datasets A, B, C each into 3
slices will result in the following data collection sequence: A1, B1, C1, A2, B2, C2, A3, B3, C3.  The wedge
parameter can be different for each dataset but is not very meaningful if only collecting a single dataset at
a time, unless the inverse beam parameter is active (see below). Also, the wedge parameter will be ignored if
if it more than the total range of data collection.</p>
</dd>
<dt id="term-First-Frame">First Frame<a class="headerlink" href="#term-First-Frame" title="Permalink to this term"></a></dt><dd><p>The index number of the first frame to be acquired. Usually 1. Subsequent frames will be numbered starting at
this value. To continue a stopped data acquisition, do not change this value. Rather, use the <em>Resume</em> option
when prompted at the start of data acquisition.</p>
</dd>
<dt id="term-Total-Frames">Total Frames<a class="headerlink" href="#term-Total-Frames" title="Permalink to this term"></a></dt><dd><p>This field is not editable. It shows the total number of frames according to the defined parameters.</p>
</dd>
<dt id="term-Energy">Energy<a class="headerlink" href="#term-Energy" title="Permalink to this term"></a></dt><dd><p>The data acquisition energy. By default this field is set to the current beamline energy.</p>
</dd>
<dt id="term-Inverse-Beam">Inverse Beam<a class="headerlink" href="#term-Inverse-Beam" title="Permalink to this term"></a></dt><dd><p>In addition, collect the same amount of data already specified with an offset of 180 degrees. Use the wedge
setting to interleave the direct and inverse portions of the dataset after a fixed data range in degrees.
Dataset slices resulting from the inverse-beam option have priority over other slices resulting from the effect
of the wedge parameter. Thus, inverse beam data slices will always be collected in pairs right after each other.
For example for datasets A,B,C with inverse beam set only on A (e.g A’), if each dataset is sliced into 3 wedges
based on the wedge parameter, the resulting sequence of data collection will be A1, A’1, B1, C1, A2, A’2, B2, …
etc.</p>
</dd>
<dt id="term-Points">Points<a class="headerlink" href="#term-Points" title="Permalink to this term"></a></dt><dd><p>Enables selection of one or two saved points for data acquisition.  If a single point is selected, the sample
will be moved to that point prior to data acquisition. If two points are selected, data will be collected
at a number of positions between (and including) the selected points. The number of positions is
determined by the value of the <em>Steps</em> parameter. This method of data acquisition is
also known as <em>Vector Data Acquisition</em>. These parameters are not available in the automated data acquisition
mode and are only enabled if saved points have been defined using the sample microscope on the Samples page.</p>
</dd>
<dt id="term-Steps">Steps:<a class="headerlink" href="#term-Steps" title="Permalink to this term"></a></dt><dd><p>The number of steps to for <em>Vector Data Acquisition</em>. This parameter is only available if more than one point
has been selected. It is not available in the automated data acquisition mode.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Linked parameters are re-evaluated and validated everytime a parameter changes. However, parameters are only applied
once the save button is clicked.</p>
</div>
</section>
<section id="diffraction-image-viewer">
<h2>Diffraction Image Viewer<a class="headerlink" href="#diffraction-image-viewer" title="Permalink to this heading"></a></h2>
<p>The diffraction image viewer is a full-featured viewer for diffraction images. All diffraction images collected within
MxDC are displayed on the same viewer. This includes images from interactive and automated data acquisition, rastering
and humidity control snapshots.</p>
<img alt="_images/image-viewer.png" class="align-center" src="_images/image-viewer.png" />
<p>It is divided into the image area, which forms the bulk of the viewer, and a toolbar below the image area which provides
tools for opening new images, saving PNG representations of displayed patterns, a back button for returning to the
previous view, a tool for resetting the zoom, a pseudo-color toggle, a button for resetting the image, backward and
forward navigation buttons for stepping through frames in a dataset, a follow-frame toggle for automatically loading the
next frame in a sequence, and a button for displaying image header parameters.
The toolbar also displays detailed information about the current mouse position over the image,
such as pixel-coordinates, intensity and diffraction resolution.</p>
<p>Additional mouse gestures are available for manipulating the image.  For example, the scroll button of the mouse can be
used to adjust the brightness of the image. Left-clicking and dragging on the image will select a region of the image
to zoom into. Right-clicking and dragging will select a line along which to integrate and display a 2-dimensional
intensity profile. Middle clicking and dragging the image while zoomed-in pans the image.</p>
<p>The diffraction image viewer currently supports CBF, MarCCD Tiff, SMV (ADSC) and HDF5 formatted diffraction image files. In
addition, XDS Spot files can be loaded and overlaid on any displayed image.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="samples.html" class="btn btn-neutral float-left" title="Samples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scans.html" class="btn btn-neutral float-right" title="Scans" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2006-2022, Canadian Light Source, Inc.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
#!/usr/bin/env python3

import sys
import os
import argparse
import logging

sys.path.append(os.path.dirname(os.path.abspath(os.path.dirname(__file__))))

from mxdc import conf
from mxdc.utils import log

# Setup single argument for verbose logging
parser = argparse.ArgumentParser(description='Mx Data Collector')
parser.add_argument('-v', action='store_true', help='Verbose Logging')

if __name__ == "__main__":
    args = parser.parse_args()
    if args.v:
        log.log_to_console(logging.DEBUG)
    else:
        log.log_to_console(logging.INFO)

    conf.initialize()
    from mxdc.mxdcapp import MxDCApp

    app = MxDCApp()
    app.run()

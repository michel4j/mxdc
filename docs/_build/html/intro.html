
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; Beamline Control Module 5.0.0-75-g7229eab documentation</title>
    
    <link rel="stylesheet" href="_static/jinja.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '5.0.0-75-g7229eab',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Beamline Control Module 5.0.0-75-g7229eab documentation" href="index.html" />
    <link rel="next" title="API documentation" href="api/index.html" />
    <link rel="prev" title="MxDC Developer/Administrator Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="api/index.html" title="API documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="MxDC Developer/Administrator Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Beamline Control Module 5.0.0-75-g7229eab documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction">
<span id="intro"></span><h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<p>MxDC (Macromolecular Crystallography Data Collector) is a modular software package layered above the low-level beamline instrument control system. The first layer, also called the beamline control module (BCM), provides a functional abstraction of all hardware devices usually found at MX beamlines, while the graphical userface  provides an integrated user-friendly interface for interactive data acquisition.</p>
<p>This is the documentation for MxDC and the BCM. It documents the application programming interfaces for developers wishing extend or customize the software. Some information about dependences and installation procedures is also provided.</p>
<p>This document is targeted at beamline administrators or software developers rather than users of MxDC. If you are a user looking for user documentation, please consult the <a class="reference external" href="http://cmcf.lightsource.ca/user-guide/user-manual/data-collection/">MxDC user guide</a></p>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>MxDC and the BCM have been designed and tested to work on Linux systems. Although it would probably work after considerable effort on other Unix-like system or even on Windows, we do not recommend Non-Linux systems.</p>
<p>MxDC and the BCM needs at least <strong>Python 2.4</strong> to run. It does not yet run under Python 3+. It is a pure python package which requires no compilation. Additionally, several python modules are required, without which MxDC and the BCM will not run or function correctly.</p>
<p><strong>Required modules:</strong></p>
<ul class="simple">
<li><cite>matplotlib</cite> &gt;= 0.99</li>
<li><cite>numpy</cite> &gt;= 1.2</li>
<li><cite>scipy</cite> &gt;= 0.6</li>
<li><cite>python-ctypes</cite> (for python &lt; 2.5  only)</li>
<li><cite>python-simplejson</cite> (for python &lt; 2.5 only)</li>
<li><cite>python-imaging</cite> &gt;= 1.1.6</li>
<li><cite>python-zope-interface</cite> &gt;= 3.3</li>
<li><cite>Twisted</cite> &gt;= 8.2</li>
<li><cite>avahi-tools</cite> (provides python avahi module needed by mdns module)</li>
<li><cite>dbus-python</cite>, usually installed by default on most recent distributions</li>
<li><cite>notify-python</cite></li>
<li>Others: (<cite>pygtk</cite> usually included with distribution)</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If using Twisted &gt;= 9.0, <cite>pyasn1</cite>, and <cite>python-crypto</cite> are also required</p>
</div>
<p><strong>General tips:</strong></p>
<ul>
<li><p class="first">To avoid dependency nightmares, always prefer packages already available for
your distribution. Only build where necessary.</p>
</li>
<li><p class="first">For installation at the CMCF beamlines, dependencies not available as part of the distribution have been built and are available in <cite>/cmcf_apps/deps</cite>. Select rpm folder matching your architechture (x86 or x86_64) and  install the packages.</p>
</li>
<li><p class="first">On Scientific Linux/RHEL/CENTOS 5+, most of the packages are available from
distribution repositories. Make sure you have EPEL and RPMFusion repositories
enabled from the start. That way, doing yum install &lt;package-name&gt; should get
you most of the above packages &#8220;for free&#8221;.</p>
</li>
<li><p class="first">A few of the packages may need to be built. It is recommended to build rpm&#8217;s and
and then install those, so you can easily uninstall them or update them, and it is easy to
tell what versions are installed.  Therefore, it is not recommended to do:</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
<p>Instead, do:</p>
<div class="highlight-python"><pre>python setup.py bdist_rpm</pre>
</div>
<p>which should generate an rpm package within the <tt class="file docutils literal"><span class="pre">dist</span></tt> subdirectory. You can then install the rpm package normally.</p>
</li>
</ul>
<p><strong>Other Programs/Libraries:</strong></p>
<ul class="simple">
<li>CBFlib: this library must be installed to allow MxDC to recognize CBF diffraction image files. If it is not available, only MarCCD and SMV formatted image files will be supported.</li>
<li>XREC is used for automated crystal centering and should be available in the execution path.
Without it, the automatec &#8220;crystal&#8221; and &#8220;loop&#8221; centering will fail.</li>
<li>CHOOCH is required for MAD and SAD scans.</li>
<li>MxLIVE and Autoprocess servers are automatically discovered at run-time but can be specified in
the configuration file manually if not part of the local network. Without these, automated data processing
and uploading of datasets or processing reports will not work.</li>
</ul>
</div>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<ol class="arabic simple">
<li>Uncompress the tarball archive into a target directory</li>
<li>Edit <tt class="file docutils literal"><span class="pre">deploy/mxdc.csh</span></tt> and <tt class="file docutils literal"><span class="pre">deploy/mxdc.csh</span></tt> to suit the installation</li>
<li>Create a configuration file in <tt class="file docutils literal"><span class="pre">etc/xxx.py</span></tt> to match your beamline hardware. It is better
to copy an existing one and modify it.</li>
<li>Make sure <tt class="file docutils literal"><span class="pre">mxdc.csh</span></tt> is sourced on login.</li>
</ol>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>To run the programs:</p>
<ul class="simple">
<li><cite>mxdc</cite> will launch the application.</li>
<li><cite>sim-mxdc</cite> will lauch the application with simulated devices.</li>
<li><cite>sampleviewer</cite> will launch the hutch sample video screen only.</li>
<li><cite>hutchviewer</cite> will launch the hutch control screen only.</li>
<li><cite>blconsole</cite> will lauch a beamline python console for interactive scanning and manipulation etc.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="index.html">
  <img class="logo" src="_static/logo-small.png" alt="Logo"/>
</a></p>
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">MxDC Developer/Administrator Documentation</a></li>
      <li>Next: <a href="api/index.html" title="next chapter">API documentation</a></li>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/intro.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2012, Canadian Light Source, Inc.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Devices &mdash; Beamline Control Module v4.0.185-g20fd45f documentation</title>
    <link rel="stylesheet" href="../_static/jinja.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '4.0.185-g20fd45f',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="Beamline Control Module v4.0.185-g20fd45f documentation" href="../index.html" />
    <link rel="up" title="API documentation" href="index.html" />
    <link rel="next" title="Engines" href="engines.html" />
    <link rel="prev" title="API documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="engines.html" title="Engines"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="API documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Beamline Control Module v4.0.185-g20fd45f documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">API documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="devices">
<h1>Devices<a class="headerlink" href="#devices" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-bcm.device.base">
<span id="base-device"></span><h2>Base Device<a class="headerlink" href="#module-bcm.device.base" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-bcm.device.base"></span><dl class="class">
<dt id="bcm.device.base.BaseDevice">
<em class="property">class </em><tt class="descclassname">bcm.device.base.</tt><tt class="descname">BaseDevice</tt><a class="headerlink" href="#bcm.device.base.BaseDevice" title="Permalink to this definition">¶</a></dt>
<dd><p>A generic device object class.  All devices should be derived from this 
class. Objects of this class are instances of <cite>gobject.GObject</cite>.</p>
<p><strong>Attributes:</strong></p>
<blockquote>
<div><ul class="simple">
<li><cite>pending_devs</cite>: a list of inactive child devices.</li>
<li><cite>health_manager</cite>: A <a class="reference internal" href="#bcm.device.base.HealthManager" title="bcm.device.base.HealthManager"><tt class="xref py py-class docutils literal"><span class="pre">HealthManager</span></tt></a> object.</li>
<li><cite>state_info</cite>: A dict containing state information.</li>
<li><cite>name</cite>:  the name of the device</li>
</ul>
</div></blockquote>
<dl class="docutils">
<dt><strong>Signals:</strong>    </dt>
<dd><ul class="first last">
<li><p class="first"><cite>active</cite>: emitted when the state of the device changes from inactive 
to active and vice-versa. Passes a single boolean value.</p>
</li>
<li><p class="first"><cite>busy</cite>: emitted to notify listeners of a change in the busy state. A 
single boolean parameter is passed along with the signal. <cite>True</cite> means
busy, <cite>False</cite> means not busy.</p>
</li>
<li><p class="first"><cite>health</cite>: signals an device sanity/error condition. Passes two 
parameters, an integer error code and a string description. The 
integer error codes are:</p>
<blockquote>
<div><ul class="simple">
<li>0 : No error</li>
<li>1 : MINOR, no impact to device functionality.</li>
<li>2 : MARGINAL, no immediate impact. Attention may soon be needed.</li>
<li>4 : SERIOUS, functionality impacted but recovery is possible.</li>
<li>8 : CRITICAL, functionality broken, recovery is not possible.</li>
<li>16 : DISABLED, device has been manually disabled.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first"><cite>message</cite>: signal for sending messages from the device to any 
listeners. Messages are passed as a single string parameter.</p>
</li>
</ul>
</dd>
<dt><strong>Dynamic Attributes:</strong></dt>
<dd><ul class="first last">
<li><p class="first"><cite>&lt;signal&gt;_state</cite>: for each signal defined in derived classes, the last
transmitted data corresponding to the current state can be obtained 
through the dynamic variable with the suffix &#8220;_state&#8221; added to the 
signal name. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">active_state</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">True</span>
</pre></div>
</div>
</li>
</ul>
</dd>
<dt><strong>Dynamic Methods:</strong></dt>
<dd><ul class="first last">
<li><p class="first"><cite>is_&lt;signal&gt;()</cite>: for each boolean signal defined in derived clases, the
current state can be obtained by adding the prefix &#8220;<a href="#id1"><span class="problematic" id="id2">is_</span></a>&#8221; to the signal
name. For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">is_active</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="bp">True</span>
</pre></div>
</div>
</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="bcm.device.base.BaseDevice.add_devices">
<tt class="descname">add_devices</tt><big>(</big><em>*devices</em><big>)</big><a class="headerlink" href="#bcm.device.base.BaseDevice.add_devices" title="Permalink to this definition">¶</a></dt>
<dd><p>Add one or more devices as children of this device.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.base.BaseDevice.add_pv">
<tt class="descname">add_pv</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#bcm.device.base.BaseDevice.add_pv" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a process variable (PV) to the device.</p>
<p>Create a new process variable, add it to the device. 
Keyworded arguments should be the same as those expected for instantiating a
<tt class="xref py py-class docutils literal"><span class="pre">bcm.protocol.ca.PV</span></tt> object.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>A reference to the created <tt class="xref py py-class docutils literal"><span class="pre">bcm.protocol.ca.PV</span></tt> object.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.base.BaseDevice.get_state">
<tt class="descname">get_state</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.base.BaseDevice.get_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a copy of the device state.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd><p class="first">A dict mapping state keys to their correponding values. Entries contain
at least the following entries:</p>
<blockquote class="last">
<div><ul class="simple">
<li><cite>active</cite> : Boolean</li>
<li><cite>busy</cite>: Boolean</li>
<li><cite>health</cite>: tuple(int, string)</li>
<li><cite>message</cite>: string</li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.base.BaseDevice.set_state">
<tt class="descname">set_state</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#bcm.device.base.BaseDevice.set_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the state of the device and emit the corresponding signal.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>Keyworded arguments follow the same conventions as the state 
dictionary and correspond to any signals defined for the device.
Signals must be previously defined as supported signals of the device.</dd>
</dl>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">mydevice</span><span class="o">.</span><span class="n">set_state</span><span class="p">(</span><span class="n">active</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">busy</span><span class="o">=</span><span class="bp">False</span><span class="p">,</span> 
                   <span class="n">health</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s">&#39;error&#39;</span><span class="p">,</span><span class="s">&#39;too hot&#39;</span><span class="p">),</span>
                   <span class="n">message</span><span class="o">=</span><span class="s">&quot;the device is overheating&quot;</span><span class="p">)</span>                     
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bcm.device.base.HealthManager">
<em class="property">class </em><tt class="descclassname">bcm.device.base.</tt><tt class="descname">HealthManager</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#bcm.device.base.HealthManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Manages the health states. The object enables registration and removal of
error states and consistent reporting of health based on all currently 
active health issues.</p>
<dl class="method">
<dt id="bcm.device.base.HealthManager.add">
<tt class="descname">add</tt><big>(</big><em>severity</em>, <em>context</em>, <em>msg=None</em><big>)</big><a class="headerlink" href="#bcm.device.base.HealthManager.add" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error state of the given context as a string
and a severity value as a integer. If a message is given, it will be 
stored and used instead of the context name. Only one message per context
type is allowed. Use a different context if you want different messages.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.base.HealthManager.get_health">
<tt class="descname">get_health</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.base.HealthManager.get_health" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an error code and string based on all the currently registered
errors within the health registry.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.base.HealthManager.register_messages">
<tt class="descname">register_messages</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#bcm.device.base.HealthManager.register_messages" title="Permalink to this definition">¶</a></dt>
<dd><p>Update or add entries to the context message register</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.base.HealthManager.remove">
<tt class="descname">remove</tt><big>(</big><em>context</em><big>)</big><a class="headerlink" href="#bcm.device.base.HealthManager.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all errors of the given context as a string.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bcm.device.automounter">
<span id="automounter"></span><h2>Automounter<a class="headerlink" href="#module-bcm.device.automounter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.automounter.BasicAutomounter">
<em class="property">class </em><tt class="descclassname">bcm.device.automounter.</tt><tt class="descname">BasicAutomounter</tt><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter" title="Permalink to this definition">¶</a></dt>
<dd><p>Basic Automounter object.</p>
<p>An automounter object contains a number of AutomounterContainers.</p>
<dl class="docutils">
<dt>Signals:        </dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><cite>state</cite>: transmits changes in automounter states. The signal data is </dt>
<dd><p class="first last">a dictionary with three entries {&#8216;busy&#8217;: &lt;boolean&gt;, 
&#8216;enabled&#8217;: &lt;boolean&gt;, &#8216;needs&#8217;:[&lt;str&gt;,&lt;str&gt;,...]}.</p>
</dd>
</dl>
</li>
<li><p class="first"><cite>message</cite>: messages from the Automounter</p>
</li>
<li><dl class="first docutils">
<dt><cite>mounted</cite>: emitted when a sample is mounted or dismounted. The data </dt>
<dd><p class="first last">transmitted is a tuple of the form (&lt;port no.&gt;, &lt;barcode&gt;) when 
mounting and <cite>None</cite> when dismounting.</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><cite>progress</cite>:  notifies listeners of automounter progress. Data is a </dt>
<dd><p class="first last">tuple of the form (&lt;% complete&gt;, &lt;description&gt;).</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.abort">
<tt class="descname">abort</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.abort" title="Permalink to this definition">¶</a></dt>
<dd><p>Abort all actions.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.dismount">
<tt class="descname">dismount</tt><big>(</big><em>port=None</em>, <em>wait=False</em><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.dismount" title="Permalink to this definition">¶</a></dt>
<dd><p>Dismount the sample into the specified port if provided, otherwise 
dismount it to the original port from which it was mounted.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><dl class="first docutils">
<dt>port (str): Destination address to dismount to, default is original</dt>
<dd>port</dd>
</dl>
<p class="last">wait (bool): Run asynchronously or block (default is async, False)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.get_port_state">
<tt class="descname">get_port_state</tt><big>(</big><em>port</em><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.get_port_state" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the detailed state of the specified sample location.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>port (str): The sample location</dd>
<dt>Returns:</dt>
<dd><p class="first">int. one of:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="mi">0</span> <span class="o">--</span> <span class="n">PORT_EMPTY</span>
<span class="mi">1</span> <span class="o">--</span> <span class="n">PORT_GOOD</span>
<span class="mi">2</span> <span class="o">--</span> <span class="n">PORT_UNKNOWN</span>
<span class="mi">3</span> <span class="o">--</span> <span class="n">PORT_MOUNTED</span>
<span class="mi">4</span> <span class="o">--</span> <span class="n">PORT_JAMMED</span>
<span class="mi">5</span> <span class="o">--</span> <span class="n">PORT_NONE</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.is_mountable">
<tt class="descname">is_mountable</tt><big>(</big><em>port</em><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.is_mountable" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a sample location can be mounted safely. Does not guarantee
that the port is actually mountable, only that the the port was marked 
as mountable during the last probe operation.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>port (str): The sample location to check.</dd>
<dt>Returns:</dt>
<dd>True or False.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.is_mounted">
<tt class="descname">is_mounted</tt><big>(</big><em>port=None</em><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.is_mounted" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if any sample or a specific sample location is currently 
mounted.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>port (str): The sample location to check.</dd>
<dt>Returns:</dt>
<dd>True if a port is specified and is mounted or if no port is 
specified and any sample is mounted. False otherwise.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.mount">
<tt class="descname">mount</tt><big>(</big><em>port</em>, <em>wash=False</em>, <em>wait=False</em><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.mount" title="Permalink to this definition">¶</a></dt>
<dd><p>Mount the sample at the specified port, optionally washing the sample
in the process.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>port (str): Address to mount.</dd>
<dt>Kwargs:</dt>
<dd>wash (bool): Whether to wash or not (default is False)
wait (bool): Run asynchronously or block (default is async, False)</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.probe">
<tt class="descname">probe</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.probe" title="Permalink to this definition">¶</a></dt>
<dd><p>Command the automounter the probe for containers and port states.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.automounter.BasicAutomounter.wait">
<tt class="descname">wait</tt><big>(</big><em>start=True</em>, <em>stop=True</em>, <em>timeout=240</em><big>)</big><a class="headerlink" href="#bcm.device.automounter.BasicAutomounter.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for the automounter</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd>start (bool): Wait for automounter to start.
stop (bool): Wait for automounter to stop.
timeout (int): Maximum time to wait</dd>
<dt>Returns:</dt>
<dd>True if the wait was successful.
False if the wait timed-out.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bcm.device.counter">
<span id="counters"></span><h2>Counters<a class="headerlink" href="#module-bcm.device.counter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.counter.Counter">
<em class="property">class </em><tt class="descclassname">bcm.device.counter.</tt><tt class="descname">Counter</tt><big>(</big><em>pv_name</em>, <em>zero=0.0</em><big>)</big><a class="headerlink" href="#bcm.device.counter.Counter" title="Permalink to this definition">¶</a></dt>
<dd><p>EPICS based Counter Device objects. Enables counting and averaging of 
process variables over given time periods.</p>
<dl class="method">
<dt id="bcm.device.counter.Counter.count">
<tt class="descname">count</tt><big>(</big><em>t</em><big>)</big><a class="headerlink" href="#bcm.device.counter.Counter.count" title="Permalink to this definition">¶</a></dt>
<dd><p>Count for the specified amount of time and return the numeric value
corresponding to the average count. This method blocks for the specified 
time.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd>t (float): averaging time in seconds.</dd>
<dt>Returns</dt>
<dd>float. The average process variable value during the count time.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bcm.device.detector">
<span id="detector"></span><h2>Detector<a class="headerlink" href="#module-bcm.device.detector" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.detector.MXCCDImager">
<em class="property">class </em><tt class="descclassname">bcm.device.detector.</tt><tt class="descname">MXCCDImager</tt><big>(</big><em>name</em>, <em>size</em>, <em>resolution</em>, <em>detector_type='MX300'</em><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager" title="Permalink to this definition">¶</a></dt>
<dd><p>MX Detector object for EPICS based Rayonix CCD detectors at the CLS.</p>
<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.get_origin">
<tt class="descname">get_origin</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.get_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the detector origin/beam position in pixels.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd>tuple(x, y) corresponding to the beam-x and beam-y coordinates.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.initialize">
<tt class="descname">initialize</tt><big>(</big><em>wait=True</em><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the detector and take background images if necessary. This
method does not do anything if the device is already initialized.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>wait</cite> (bool): If true, the call will block until initialization is
complete.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.save">
<tt class="descname">save</tt><big>(</big><em>wait=False</em><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the current buffers according to the current parameters.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>wait</cite> (bool): If true, the call will block until the save operation
is complete.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.set_parameters">
<tt class="descname">set_parameters</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.set_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the detector parameters for the image header and file names.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><p class="first"><cite>data</cite> (dict): A dictionary of key value pairs for the parameters.
supported parameters are:</p>
<blockquote class="last">
<div><ul class="simple">
<li><cite>filename</cite> (str), Output file name of the image.</li>
<li><cite>directory</cite> (str), Directory name to store image.</li>
<li><cite>beam_x</cite> (int), Detector X-origin in pixels.</li>
<li><cite>beam_y</cite> (int), Detector Y-origin in pixels.</li>
<li><cite>distance</cite> (float), Detector distance in mm.</li>
<li><cite>exposure_time</cite> , Exposure time in seconds.</li>
<li><cite>axis</cite> (str), Spindle rotation axis.</li>
<li><cite>wavelength</cite> (float),  Wavelength of radiation in Angstroms.</li>
<li><cite>delta_angle</cite> (float), Delta oscillation angle in deg.</li>
<li><cite>frame_number</cite> (int), Frame number.</li>
<li><cite>name</cite> (str), File name prefix for the image.</li>
<li><cite>start_angle</cite> (float), Starting spindle position of image in deg.</li>
<li><cite>energy</cite> (float), Wavelength of radiation in KeV.</li>
<li><cite>comments</cite> (str), File comments.</li>
</ul>
</div></blockquote>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.start">
<tt class="descname">start</tt><big>(</big><em>first=False</em><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Start acquiring.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>first</cite> (bool): Specifies whether this is the first of a series of
acquisitions. This is used to customize the behaviour for the first.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop and Abort the current acquisition.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.detector.MXCCDImager.wait">
<tt class="descname">wait</tt><big>(</big><em>state='idle'</em><big>)</big><a class="headerlink" href="#bcm.device.detector.MXCCDImager.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait until the detector reaches a given state.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>state</cite> (str): The state to wait for. Default &#8216;idle&#8217;.</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bcm.device.diffractometer">
<span id="diffractometer"></span><h2>Diffractometer<a class="headerlink" href="#module-bcm.device.diffractometer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.diffractometer.Diffractometer">
<em class="property">class </em><tt class="descclassname">bcm.device.diffractometer.</tt><tt class="descname">Diffractometer</tt><big>(</big><em>distance</em>, <em>two_theta</em>, <em>name='Diffractometer'</em><big>)</big><a class="headerlink" href="#bcm.device.diffractometer.Diffractometer" title="Permalink to this definition">¶</a></dt>
<dd><p>A Container device object which groups a detector distance and detector
swing-out.</p>
<dl class="method">
<dt id="bcm.device.diffractometer.Diffractometer.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.diffractometer.Diffractometer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop both child devices.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.diffractometer.Diffractometer.wait">
<tt class="descname">wait</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.diffractometer.Diffractometer.wait" title="Permalink to this definition">¶</a></dt>
<dd><p>Wait for both child devices to finish moving.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bcm.device.goniometer">
<span id="goniometer"></span><h2>Goniometer<a class="headerlink" href="#module-bcm.device.goniometer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.goniometer.Goniometer">
<em class="property">class </em><tt class="descclassname">bcm.device.goniometer.</tt><tt class="descname">Goniometer</tt><big>(</big><em>name</em>, <em>blname</em>, <em>mnt_cmd</em>, <em>minibeam</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.Goniometer" title="Permalink to this definition">¶</a></dt>
<dd><p>EPICS based Parker-type Goniometer at the CLS 08ID-1.</p>
<dl class="method">
<dt id="bcm.device.goniometer.Goniometer.configure">
<tt class="descname">configure</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.Goniometer.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the goniometer to perform an oscillation scan.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>time</cite> (float): Exposure time in seconds
<cite>delta</cite> (float): Delta oscillation range in deg
<cite>angle</cite> (float): Starting angle of oscillation in deg</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.goniometer.Goniometer.scan">
<tt class="descname">scan</tt><big>(</big><em>wait=True</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.Goniometer.scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an oscillation scan according to the currently set parameters</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>wait</cite> (bool): if True, wait until the scan is complete otherwise run
asynchronously.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.goniometer.Goniometer.set_mode">
<tt class="descname">set_mode</tt><big>(</big><em>mode</em>, <em>wait=False</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.Goniometer.set_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the mode of the goniometer environment.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt><cite>mode</cite> (str) one of:</dt>
<dd><ul class="first last simple">
<li>&#8220;CENTERING&#8221; : Prepare for centering</li>
<li>&#8220;MOUNTING&#8221; : Prepare for mounting/dismounting samples</li>
<li>&#8220;COLLECT&#8221; : Prepare for data collection</li>
<li>&#8220;BEAM&#8221; : Inspect the beam</li>
<li>&#8220;SCANNING&#8221; : Prepare for scanning and fluorescence measurements</li>
</ul>
</dd>
</dl>
</dd>
<dt>Kwargs:</dt>
<dd><cite>wait</cite> (bool): if True, block until the mode is completely changed.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bcm.device.goniometer.MD2Goniometer">
<em class="property">class </em><tt class="descclassname">bcm.device.goniometer.</tt><tt class="descname">MD2Goniometer</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.MD2Goniometer" title="Permalink to this definition">¶</a></dt>
<dd><p>EPICS based MD2-type Goniometer at the CLS 08B1-1.</p>
<dl class="method">
<dt id="bcm.device.goniometer.MD2Goniometer.configure">
<tt class="descname">configure</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.MD2Goniometer.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the goniometer to perform an oscillation scan.</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>time</cite> (float): Exposure time in seconds
<cite>delta</cite> (float): Delta oscillation range in deg
<cite>angle</cite> (float): Starting angle of oscillation in deg</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.goniometer.MD2Goniometer.scan">
<tt class="descname">scan</tt><big>(</big><em>wait=True</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.MD2Goniometer.scan" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform an oscillation scan according to the currently set parameters</p>
<dl class="docutils">
<dt>Kwargs:</dt>
<dd><cite>wait</cite> (bool): if True, wait until the scan is complete otherwise run
asynchronously.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.goniometer.MD2Goniometer.set_mode">
<tt class="descname">set_mode</tt><big>(</big><em>mode</em>, <em>wait=False</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.MD2Goniometer.set_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the mode of the goniometer environment.</p>
<dl class="docutils">
<dt>Args:</dt>
<dd><dl class="first last docutils">
<dt><cite>mode</cite> (str) one of:</dt>
<dd><ul class="first last simple">
<li>&#8220;CENTERING&#8221; : Prepare for centering</li>
<li>&#8220;MOUNTING&#8221; : Prepare for mounting/dismounting samples</li>
<li>&#8220;COLLECT&#8221; : Prepare for data collection</li>
<li>&#8220;BEAM&#8221; : Inspect the beam</li>
<li>&#8220;SCANNING&#8221; : Prepare for scanning and fluorescence measurements</li>
</ul>
</dd>
</dl>
</dd>
<dt>Kwargs:</dt>
<dd><cite>wait</cite> (bool): if True, block until the mode is completely changed.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="bcm.device.goniometer.MD2Goniometer.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.goniometer.MD2Goniometer.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop and abort the current scan if any.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bcm.device.goniometer.BackLight">
<em class="property">class </em><tt class="descclassname">bcm.device.goniometer.</tt><tt class="descname">BackLight</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#bcm.device.goniometer.BackLight" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized in-out actuator for pneumatic OAV backlight at the CLS.</p>
</dd></dl>

</div>
<div class="section" id="module-bcm.device.mca">
<span id="multi-channel-analyzer"></span><h2>Multi-Channel Analyzer<a class="headerlink" href="#module-bcm.device.mca" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.mca.XFlashMCA">
<em class="property">class </em><tt class="descclassname">bcm.device.mca.</tt><tt class="descname">XFlashMCA</tt><big>(</big><em>name</em>, <em>nozzle=None</em>, <em>channels=4096</em><big>)</big><a class="headerlink" href="#bcm.device.mca.XFlashMCA" title="Permalink to this definition">¶</a></dt>
<dd><p>mcaRecord based single element fluorescence detector object.</p>
</dd></dl>

<dl class="class">
<dt id="bcm.device.mca.VortexMCA">
<em class="property">class </em><tt class="descclassname">bcm.device.mca.</tt><tt class="descname">VortexMCA</tt><big>(</big><em>name</em>, <em>channels=2048</em><big>)</big><a class="headerlink" href="#bcm.device.mca.VortexMCA" title="Permalink to this definition">¶</a></dt>
<dd><p>EPICS based 4-element Vortex ME4 detector object.</p>
</dd></dl>

</div>
<div class="section" id="module-bcm.device.monochromator">
<span id="monochromator"></span><h2>Monochromator<a class="headerlink" href="#module-bcm.device.monochromator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.monochromator.Monochromator">
<em class="property">class </em><tt class="descclassname">bcm.device.monochromator.</tt><tt class="descname">Monochromator</tt><big>(</big><em>simple_energy</em>, <em>energy</em>, <em>mostab=None</em><big>)</big><a class="headerlink" href="#bcm.device.monochromator.Monochromator" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="bcm.device.monochromator.Monochromator.stop">
<tt class="descname">stop</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.monochromator.Monochromator.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="bcm.device.monochromator.Monochromator.wait">
<tt class="descname">wait</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.monochromator.Monochromator.wait" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-bcm.device.motor">
<span id="motors"></span><h2>Motors<a class="headerlink" href="#module-bcm.device.motor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="bcm.device.motor.MotorBase">
<em class="property">class </em><tt class="descclassname">bcm.device.motor.</tt><tt class="descname">MotorBase</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#bcm.device.motor.MotorBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for motors.</p>
</dd></dl>

<dl class="exception">
<dt id="bcm.device.motor.MotorError">
<em class="property">exception </em><tt class="descclassname">bcm.device.motor.</tt><tt class="descname">MotorError</tt><a class="headerlink" href="#bcm.device.motor.MotorError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for errors in the motor module.</p>
</dd></dl>

</div>
<div class="section" id="module-bcm.device.video">
<span id="video"></span><h2>Video<a class="headerlink" href="#module-bcm.device.video" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="bcm.device.video.VideoError">
<em class="property">exception </em><tt class="descclassname">bcm.device.video.</tt><tt class="descname">VideoError</tt><a class="headerlink" href="#bcm.device.video.VideoError" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for errors in the video module.</p>
</dd></dl>

</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-bcm.device.misc"></span><dl class="class">
<dt id="bcm.device.misc.MotorShutter">
<em class="property">class </em><tt class="descclassname">bcm.device.misc.</tt><tt class="descname">MotorShutter</tt><big>(</big><em>motor</em><big>)</big><a class="headerlink" href="#bcm.device.misc.MotorShutter" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for CMCF1 cryojet Motor</p>
<dl class="method">
<dt id="bcm.device.misc.MotorShutter.is_open">
<tt class="descname">is_open</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.misc.MotorShutter.is_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function for open state</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-bcm.device.cryojet"></span><dl class="class">
<dt id="bcm.device.cryojet.Cryojet">
<em class="property">class </em><tt class="descclassname">bcm.device.cryojet.</tt><tt class="descname">Cryojet</tt><big>(</big><em>cname</em>, <em>lname</em>, <em>nname=''</em><big>)</big><a class="headerlink" href="#bcm.device.cryojet.Cryojet" title="Permalink to this definition">¶</a></dt>
<dd><p>EPICS Based cryoject device object at the CLS.</p>
<dl class="method">
<dt id="bcm.device.cryojet.Cryojet.resume_flow">
<tt class="descname">resume_flow</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.cryojet.Cryojet.resume_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Restores the flow rate to the previously saved setting.</p>
</dd></dl>

<dl class="method">
<dt id="bcm.device.cryojet.Cryojet.stop_flow">
<tt class="descname">stop_flow</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.cryojet.Cryojet.stop_flow" title="Permalink to this definition">¶</a></dt>
<dd><p>Stop the flow of the cold nitrogen stream. The current setting for
flow rate is saved.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bcm.device.cryojet.CryojetNozzle">
<em class="property">class </em><tt class="descclassname">bcm.device.cryojet.</tt><tt class="descname">CryojetNozzle</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#bcm.device.cryojet.CryojetNozzle" title="Permalink to this definition">¶</a></dt>
<dd><p>A specialized in-out actuator for pneumatic cryoject nozzles at the CLS.</p>
</dd></dl>

<span class="target" id="module-bcm.device.diagnostics"></span><dl class="class">
<dt id="bcm.device.diagnostics.DeviceDiag">
<em class="property">class </em><tt class="descclassname">bcm.device.diagnostics.</tt><tt class="descname">DeviceDiag</tt><big>(</big><em>device</em>, <em>descr=None</em><big>)</big><a class="headerlink" href="#bcm.device.diagnostics.DeviceDiag" title="Permalink to this definition">¶</a></dt>
<dd><p>A diagnostic object for generic devices which emits a warning when the
device health is not good and an error when it is disconnected or disabled.</p>
</dd></dl>

<dl class="class">
<dt id="bcm.device.diagnostics.DiagnosticBase">
<em class="property">class </em><tt class="descclassname">bcm.device.diagnostics.</tt><tt class="descname">DiagnosticBase</tt><big>(</big><em>descr</em><big>)</big><a class="headerlink" href="#bcm.device.diagnostics.DiagnosticBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for diagnostics.</p>
<dl class="method">
<dt id="bcm.device.diagnostics.DiagnosticBase.get_status">
<tt class="descname">get_status</tt><big>(</big><big>)</big><a class="headerlink" href="#bcm.device.diagnostics.DiagnosticBase.get_status" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the state of the diagnostic.</p>
<dl class="docutils">
<dt>Returns:</dt>
<dd><dl class="first last docutils">
<dt>int. One of the following:</dt>
<dd>0 - DIAG_STATUS_GOOD
1 - DIAG_STATUS_WARN
2 - DIAG_STATUS_BAD
3 - DIAG_STATUS_UNKNOWN</dd>
</dl>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="bcm.device.diagnostics.ServiceDiag">
<em class="property">class </em><tt class="descclassname">bcm.device.diagnostics.</tt><tt class="descname">ServiceDiag</tt><big>(</big><em>service</em>, <em>descr=None</em><big>)</big><a class="headerlink" href="#bcm.device.diagnostics.ServiceDiag" title="Permalink to this definition">¶</a></dt>
<dd><p>A diagnostic object for generic services which emits an error when it is
disconnected or disabled.</p>
</dd></dl>

<dl class="class">
<dt id="bcm.device.diagnostics.ShutterStateDiag">
<em class="property">class </em><tt class="descclassname">bcm.device.diagnostics.</tt><tt class="descname">ShutterStateDiag</tt><big>(</big><em>device</em>, <em>descr=None</em><big>)</big><a class="headerlink" href="#bcm.device.diagnostics.ShutterStateDiag" title="Permalink to this definition">¶</a></dt>
<dd><p>A diagnostic object for shutters which emits a warning when the shutter
is closed and an error if it is inactive.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="../index.html">
  <img class="logo" src="../_static/logo-small.png" alt="Logo"/>
</a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Devices</a><ul>
<li><a class="reference internal" href="#module-bcm.device.base">Base Device</a></li>
<li><a class="reference internal" href="#module-bcm.device.automounter">Automounter</a></li>
<li><a class="reference internal" href="#module-bcm.device.counter">Counters</a></li>
<li><a class="reference internal" href="#module-bcm.device.detector">Detector</a></li>
<li><a class="reference internal" href="#module-bcm.device.diffractometer">Diffractometer</a></li>
<li><a class="reference internal" href="#module-bcm.device.goniometer">Goniometer</a></li>
<li><a class="reference internal" href="#module-bcm.device.mca">Multi-Channel Analyzer</a></li>
<li><a class="reference internal" href="#module-bcm.device.monochromator">Monochromator</a></li>
<li><a class="reference internal" href="#module-bcm.device.motor">Motors</a></li>
<li><a class="reference internal" href="#module-bcm.device.video">Video</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">API documentation</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">API documentation</a></li>
      <li>Next: <a href="engines.html" title="next chapter">Engines</a></li>
  </ul></li>
  </ul></li>
</ul>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/api/devices.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy; Copyright 2012, Canadian Light Source, Inc.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
    </div>
  </body>
</html>